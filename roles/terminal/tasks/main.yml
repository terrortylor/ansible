---
# tasks file for terminal
- name: Run ubuntu specific steps
  import_tasks: ubuntu.yml
  when: ansible_facts['os_family'] == "Debian"

- name: Run osx specific steps
  import_tasks: osx.yml
  when: ansible_facts['os_family'] == "Darwin"

- name: Creates the .gitconfig file
  template:
    src: .gitconfig.j2
    dest: "{{ home_dir }}/{{ terminal.install_user }}/.gitconfig"
    mode: 0644

- name: Ensure ~/.vim/colors directory exists
  file:
    path: "{{ home_dir }}/{{ terminal.install_user }}/.vim/colors"
    state: directory

- name: Download solarized vim colours
  get_url:
    url: https://raw.githubusercontent.com/altercation/vim-colors-solarized/master/colors/solarized.vim
    dest: "{{ home_dir }}/{{ terminal.install_user }}/.vim/colors/solarized.vim"

- name: Create .vimrc
  copy:
    src: files/.vimrc
    dest: "{{ home_dir }}/{{ terminal.install_user }}/.vimrc"
    mode: 0644
